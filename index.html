
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>QR Tracker</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

html, body {
  max-width: 100%;
  overflow-x: hidden;
  touch-action: manipulation;
}

body {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: url('https://raw.githubusercontent.com/socialinfi321-svgph/QR-SCANNER-/main/WhatsApp%20Image%202025-11-10%20at%2017.46.29_9a143304.jpg') center center / contain no-repeat fixed;
  background-color: #000;
  overflow: hidden;
}

.app {
  width: 90%;
  max-width: 380px;
  height: 90vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 15px 10px;
  position: relative;
  transform-origin: center center;
}

/* QR Box */
.qr-box {
  position: relative;
  width: 260px;
  height: 260px;
  border-radius: 20px;
  overflow: visible;
  margin: 83px auto 0 auto; /* 8px niche shifted */
  display: flex;
  justify-content: center;
  align-items: center;
  background: transparent;
  transform-origin: center center;
}

/* Continuous glowing border line */
.qr-box::before {
  content: "";
  position: absolute;
  inset: -3px;
  border-radius: 20px;
  background: linear-gradient(90deg, #4285f4, #ea4335, #fbbc05, #34a853, #4285f4);
  background-size: 300% 300%;
  animation: moveBorder 3s linear infinite;
  z-index: 0;
  padding: 3px;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  box-shadow: 0 0 15px rgba(255,255,255,0.5);
}

@keyframes moveBorder {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}

/* Soft outer glow */
.qr-box::after {
  content: "";
  position: absolute;
  inset: -10px;
  border-radius: 25px;
  background: conic-gradient(
    from 0deg,
    #4285f4,
    #ea4335,
    #fbbc05,
    #34a853,
    #4285f4
  );
  filter: blur(20px);
  opacity: 0.6;
  animation: glowSpin 6s linear infinite;
  z-index: 0;
}

@keyframes glowSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* QR Images */
.qr-box img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  border-radius: 20px;
  z-index: 2;
  opacity: 0;
  transform: translateX(100%);
  transition: opacity 0.3s, transform 0.3s;
  will-change: transform, opacity;
}

.qr-box img.active {
  opacity: 1;
  transform: translateX(0);
}

.qr-box img.completed {
  display: none;
}

/* smoother animation - no page zoom */
@keyframes slideOutToBox {
  0% {opacity: 1; transform: translate(0,0) scale(1);}
  100% {opacity: 1; transform: translate(-40px, 60px) scale(0.25);}
}

@keyframes slideInFromRight {
  0% {opacity: 1; transform: translateX(100%);}
  100% {opacity: 1; transform: translateX(0);}
}

@keyframes restoreFromBox {
  0% {opacity: 1; transform: translate(-40px, 60px) scale(0.25);}
  100% {opacity: 1; transform: translate(0,0) scale(1);}
}

.qr-box img.slide-out {
  animation: slideOutToBox 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}
.qr-box img.slide-in {
  animation: slideInFromRight 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}
.qr-box img.restore {
  animation: restoreFromBox 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  display: block !important;
}

/* Done text */
.qr-box.completed::before,
.qr-box.completed::after {
  display: none;
}

.qr-box .done-text {
  position: absolute;
  font-size: 22px;
  font-weight: 700;
  text-transform: uppercase;
  background: linear-gradient(90deg, #34a853, #fbbc05, #ea4335, #4285f4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientMove 3s linear infinite;
  z-index: 5;
}

@keyframes gradientMove {
  0% { background-position: 0%; }
  100% { background-position: 100%; }
}

/* Dots */
.dots {
  display: flex;
  justify-content: center;
  margin-top: 8px;
  gap: 8px;
  position: relative;
}

.dots span {
  width: 10px;
  height: 10px;
  background: #fff;
  border-radius: 50%;
  transition: background 0.3s;
  cursor: pointer;
}

.dots .active {
  background: #000;
  transform: scale(1.3);
}

/* Counter + Message */
.counter {
  color: white;
  font-size: 14px;
  margin-top: 10px;
  font-weight: 500;
  text-align: center;
}

.complete {
  text-align: center;
  color: #0f9d58;
  font-weight: 700;
  font-size: 13px;
  margin-top: 5px;
}

/* +1 Button */
.plus-btn {
  margin: 28px auto 0 auto;
  padding: 10px 30px;
  border: none;
  border-radius: 12px;
  color: white;
  background: linear-gradient(90deg, #4285f4, #ea4335, #fbbc05, #34a853);
  background-size: 400%;
  animation: gradientMove 6s infinite linear;
  font-size: 16px;
  font-weight: 600;
  display: block;
  cursor: pointer;
}

/* Bottom section */
.bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 0 10px;
  position: relative;
  margin-bottom: 60px;
}

.completed-box {
  width: 60px;
  height: 60px;
  border-radius: 10px;
  background: rgba(255,255,255,0.2);
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  cursor: pointer;
  transition: transform 0.2s;
}

.completed-box:hover {
  transform: scale(1.05);
}

.completed-box img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 10px;
  position: absolute;
  opacity: 0;
  transition: opacity 0.4s;
}

.completed-box img.active { opacity: 1; }

.change-btn {
  background: #f44336;
  border: none;
  color: white;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: 8px;
  cursor: pointer;
}

.next-btn {
  background: #1a73e8;
  border: none;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  color: white;
  font-size: 22px;
  cursor: pointer;
  box-shadow: 0 5px 10px rgba(0,0,0,0.2);
}
</style>
</head>
<body>
<div class="app">
  <div>
    <div class="qr-box" id="qrBox">
      <img src="https://raw.githubusercontent.com/socialinfi321-svgph/QR-SCANNER-/main/WhatsApp%20Image%202025-11-10%20at%2017.46.29_b6c5c5c4.jpg" class="active" alt="QR 1" data-index="0">
      <img src="https://github.com/socialinfi321-svgph/QR-SCANNER-/blob/main/Untitled%201.png" alt="QR 2" data-index="1">
      <img src="https://raw.githubusercontent.com/socialinfi321-svgph/QR-SCANNER-/main/WhatsApp%20Image%202025-11-10%20at%2017.46.31_1a42bf05.jpg" alt="QR 3" data-index="2">
      <img src="https://raw.githubusercontent.com/socialinfi321-svgph/QR-SCANNER-/main/WhatsApp%20Image%202025-11-10%20at%2017.46.31_fa882b2d.jpg" alt="QR 4" data-index="3">
      <img src="https://raw.githubusercontent.com/socialinfi321-svgph/QR-SCANNER-/main/IMG_20251103_172517.png" alt="QR 5" data-index="4">
    </div>

    <div class="dots" id="dots">
      <span class="active"></span><span></span><span></span><span></span><span></span>
    </div>

    <div class="counter" id="counter">0 / 8</div>
    <div class="complete" id="completeMsg"></div>
    <button class="plus-btn" id="plusBtn">+1</button>
  </div>
  
  <div class="bottom">
    <div style="display:flex; align-items:center;">
      <div class="completed-box" id="completedBox"></div>
      <button class="change-btn" id="resetBtn">&#8635;</button>
    </div>
    <button class="next-btn" id="nextBtn">&#9654;</button>
  </div>
</div>

<script>
let qrImages = document.querySelectorAll('.qr-box img');
let dots = document.querySelectorAll('#dots span');
let counter = document.getElementById('counter');
let completeMsg = document.getElementById('completeMsg');
let plusBtn = document.getElementById('plusBtn');
let nextBtn = document.getElementById('nextBtn');
let completedBox = document.getElementById('completedBox');
let resetBtn = document.getElementById('resetBtn');
let qrBox = document.getElementById('qrBox');

const targets = [8, 8, 8, 8, 4];
let counts = [0, 0, 0, 0, 0];
let completedQRs = [];
let currentQR = 0;

// Load data from localStorage on page load
function loadData() {
  const savedCounts = localStorage.getItem('qrCounts');
  const savedCompleted = localStorage.getItem('completedQRs');
  const savedCurrent = localStorage.getItem('currentQR');
  
  if (savedCounts) counts = JSON.parse(savedCounts);
  if (savedCompleted) completedQRs = JSON.parse(savedCompleted);
  if (savedCurrent) currentQR = parseInt(savedCurrent);
  
  // Update UI based on loaded data
  updateQR();
  
  // Hide completed QR images
  qrImages.forEach((img, index) => {
    if (completedQRs.includes(index)) {
      img.classList.add('completed');
    }
  });
  
  // Update completed box with completed QR images
  completedBox.innerHTML = "";
  completedQRs.forEach(index => {
    const clone = qrImages[index].cloneNode(true);
    clone.classList.remove('active', 'slide-out', 'slide-in', 'completed');
    clone.style.opacity = "1";
    clone.style.transform = "none";
    clone.dataset.originalIndex = index;
    completedBox.appendChild(clone);
  });
  
  // Set active QR
  qrImages.forEach(img => img.classList.remove('active'));
  qrImages[currentQR].classList.add('active');
  
  // Check if all QR codes are completed
  if (completedQRs.length === qrImages.length) {
    qrBox.classList.add('completed');
    qrBox.innerHTML = '<div class="done-text">âœ… COMPLETED</div>';
  }
}

// Save data to localStorage
function saveData() {
  localStorage.setItem('qrCounts', JSON.stringify(counts));
  localStorage.setItem('completedQRs', JSON.stringify(completedQRs));
  localStorage.setItem('currentQR', currentQR.toString());
}

function updateQR() {
  dots.forEach((dot, i) => dot.classList.toggle('active', i === currentQR));
  counter.textContent = `${counts[currentQR]} / ${targets[currentQR]}`;
  completeMsg.textContent = counts[currentQR] >= targets[currentQR] ? "ðŸŽ¯ Target Complete!" : "";
  saveData();
}

function findNextAvailableQR() {
  for (let i = 1; i <= qrImages.length; i++) {
    const nextIndex = (currentQR + i) % qrImages.length;
    if (!completedQRs.includes(nextIndex)) return nextIndex;
  }
  return currentQR;
}

plusBtn.addEventListener('click', () => {
  if (counts[currentQR] < targets[currentQR]) {
    counts[currentQR]++;
    updateQR();
    
    if (counts[currentQR] === targets[currentQR]) {
      completeMsg.textContent = "ðŸŽ¯ Target Complete!";
      completedQRs.push(currentQR);
      
      // Add QR to completed box
      const clone = qrImages[currentQR].cloneNode(true);
      clone.classList.remove('active', 'slide-out', 'slide-in', 'completed');
      clone.style.opacity = "1";
      clone.style.transform = "none";
      clone.dataset.originalIndex = currentQR;
      completedBox.appendChild(clone);
      
      // Hide current QR and move to next available
      const currentImg = qrImages[currentQR];
      let nextQR = findNextAvailableQR();
      
      if (nextQR !== currentQR) {
        const nextImg = qrImages[nextQR];
        currentImg.classList.remove('active');
        currentImg.classList.add('slide-out');
        nextImg.classList.add('slide-in');
        
        setTimeout(() => {
          currentImg.classList.remove('slide-out');
          currentImg.classList.add('completed');
          nextImg.classList.remove('slide-in');
          nextImg.classList.add('active');
          currentQR = nextQR;
          updateQR();
        }, 600);
      } else {
        // All QR codes completed
        qrBox.classList.add('completed');
        qrBox.innerHTML = '<div class="done-text">âœ… COMPLETED</div>';
      }
    }
  }
});

completedBox.addEventListener('click', () => {
  const imagesInBox = completedBox.querySelectorAll('img');
  if (imagesInBox.length === 0) return;
  
  // Get the last completed QR (LIFO)
  const lastImg = imagesInBox[imagesInBox.length - 1];
  const originalIndex = parseInt(lastImg.dataset.originalIndex);
  
  // Remove from completedQRs array
  completedQRs = completedQRs.filter(i => i !== originalIndex);
  
  // Remove from completed box
  lastImg.remove();
  
  // Reset counter for this QR
  counts[originalIndex] = 0;
  
  // Show QR in main box
  qrBox.classList.remove('completed');
  qrBox.innerHTML = '';
  qrImages.forEach(img => qrBox.appendChild(img));
  
  qrImages[currentQR].classList.remove('active');
  qrImages[originalIndex].classList.remove('completed');
  qrImages[originalIndex].classList.add('restore');
  
  setTimeout(() => {
    qrImages[originalIndex].classList.remove('restore');
    qrImages[originalIndex].classList.add('active');
    currentQR = originalIndex;
    updateQR();
  }, 600);
});

nextBtn.addEventListener('click', () => {
  let nextQR = findNextAvailableQR();
  if (nextQR !== currentQR) {
    qrImages[currentQR].classList.remove('active');
    qrImages[nextQR].classList.add('active');
    currentQR = nextQR;
    updateQR();
  }
});

dots.forEach((dot, i) => {
  dot.addEventListener('click', () => {
    if (!completedQRs.includes(i)) {
      qrImages[currentQR].classList.remove('active');
      currentQR = i;
      qrImages[currentQR].classList.add('active');
      updateQR();
    }
  });
});

resetBtn.addEventListener('click', () => {
  counts = [0, 0, 0, 0, 0];
  completedQRs = [];
  currentQR = 0;
  completedBox.innerHTML = "";
  qrBox.classList.remove('completed');
  qrBox.innerHTML = '';
  
  qrImages.forEach(img => {
    img.classList.remove('active', 'completed', 'slide-out', 'slide-in', 'restore');
    img.style.opacity = "0";
    img.style.transform = "translateX(100%)";
    qrBox.appendChild(img);
  });
  
  qrImages[0].classList.add('active');
  qrImages[0].style.opacity = "1";
  qrImages[0].style.transform = "translateX(0)";
  
  updateQR();
  completeMsg.textContent = "ðŸ”„ Data Reset!";
  setTimeout(() => (completeMsg.textContent = ""), 2000);
  
  // Clear localStorage
  localStorage.removeItem('qrCounts');
  localStorage.removeItem('completedQRs');
  localStorage.removeItem('currentQR');
});

// Initialize the app
loadData();
</script>
</body>
</html>



