<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>PARK COLLAB INITIATIVE</title>

<style>
* {margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif;}
body {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #f8f9fa 25%, #e9ecef 100%);
}
.app {
  width: 350px;
  height: 600px;
  background: white;
  border-radius: 25px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 15px 20px;
}
h1 {
  text-align: center;
  font-size: 20px;
  color: #1a237e;
  font-weight: 700;
}
h2 {
  text-align: center;
  font-size: 15px;
  color: #424242;
  margin-top: 6px;
}
.qr-box {
  position: relative;
  width: 260px;
  height: 260px;
  margin: 20px auto;
  border: 3px solid #1a237e;
  border-radius: 20px;
  overflow: hidden;
  background: #f5f5f5;
}
.qr-box img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  opacity: 0;
  transform: translateX(100%);
  transition: all 0.5s ease;
}
.qr-box img.active {
  opacity: 1;
  transform: translateX(0);
}
.qr-box img.slide-out-left {
  transform: translateX(-100%);
  opacity: 0;
}
.dots {text-align: center; margin-top: 8px;}
.dots span {
  height: 10px; width: 10px; margin: 0 4px;
  background: #ccc; display: inline-block; border-radius: 50%;
  transition: background 0.3s;
}
.dots span.active {background: #1a73e8;}
.counter {text-align: center; font-size: 14px; font-weight: 500; margin-top: 10px;}
.complete {text-align: center; color: #0f9d58; font-weight: bold; margin-top: 5px; font-size: 13px;}
.plus-btn {
  display: block; margin: 10px auto;
  padding: 8px 22px; border: none;
  border-radius: 10px;
  color: white; cursor: pointer;
  background: linear-gradient(90deg, #4285f4, #ea4335, #fbbc05, #34a853);
  background-size: 400%; animation: gradientMove 6s infinite linear;
  font-size: 15px; font-weight: 600;
}
@keyframes gradientMove {0% {background-position: 0%} 100% {background-position: 100%}}
.bottom {display: flex; justify-content: space-between; align-items: center;}
.completed-box {
  width: 60px; height: 60px; border-radius: 10px;
  background: #f1f3f4; overflow: hidden;
  display: flex; justify-content: center; align-items: center;
  position: relative;
}
.completed-box img {
  width: 100%; height: 100%; object-fit: cover;
  position: absolute; opacity: 0; transition: opacity 0.4s;
}
.completed-box img.active {opacity: 1;}
.change-btn {
  background: #1a73e8; border: none; color: white;
  border-radius: 50%; width: 28px; height: 28px;
  display: flex; justify-content: center; align-items: center;
  margin-left: 8px; cursor: pointer;
}
.next-btn {
  background: #34a853; border: none;
  width: 60px; height: 60px; border-radius: 50%;
  color: white; font-size: 20px; cursor: pointer;
  box-shadow: 0 5px 10px rgba(0,0,0,0.2);
}
.slide-to-small {
  animation: moveToSmall 0.6s ease forwards;
}
@keyframes moveToSmall {
  0% {transform: scale(1) translateY(0); opacity: 1;}
  100% {transform: scale(0.3) translateY(180px); opacity: 0;}
}
.scale-up {
  animation: scaleUp 0.6s ease forwards;
}
@keyframes scaleUp {
  0% {transform: scale(0.3) translateY(180px); opacity: 0;}
  100% {transform: scale(1) translateY(0); opacity: 1;}
}
</style>
</head>
<body>
<div class="app">
  <div>
    <h1>PARK COLLAB INITIATIVE</h1>
    <h2>SCAN QR</h2>

    <div class="qr-box" id="qrBox">
      <img src="qr1.png" class="active" alt="QR 1">
      <img src="qr2.png" alt="QR 2">
      <img src="qr3.png" alt="QR 3">
      <img src="qr4.png" alt="QR 4">
    </div>

    <div class="dots" id="dots">
      <span class="active"></span><span></span><span></span><span></span>
    </div>

    <div class="counter" id="counter">0 / 8</div>
    <div class="complete" id="completeMsg"></div>
    <button class="plus-btn" id="plusBtn">+1</button>
  </div>

  <div class="bottom">
    <div style="display:flex; align-items:center;">
      <div class="completed-box" id="completedBox"></div>
      <button class="change-btn" id="changeBtn">&#9658;</button>
    </div>
    <button class="next-btn" id="nextBtn">&#9654;</button>
  </div>
</div>

<script>
const qrImages = document.querySelectorAll('.qr-box img');
const dots = document.querySelectorAll('#dots span');
const counter = document.getElementById('counter');
const completeMsg = document.getElementById('completeMsg');
const plusBtn = document.getElementById('plusBtn');
const nextBtn = document.getElementById('nextBtn');
const completedBox = document.getElementById('completedBox');
const changeBtn = document.getElementById('changeBtn');

const targets = [8,8,8,8];
const counts = [0,0,0,0];
const completed = [];
let currentQR = 0;
let showCompletedIndex = 0;
let lastTap = 0;

function updateQR() {
  qrImages.forEach((img,i)=>{
    img.classList.remove('active','slide-out-left');
    dots[i].classList.remove('active');
  });
  qrImages[currentQR].classList.add('active');
  dots[currentQR].classList.add('active');
  counter.textContent = `${counts[currentQR]} / ${targets[currentQR]}`;
  completeMsg.textContent = counts[currentQR]>=targets[currentQR]?"ðŸŽ¯ Target Complete!":"";
}

plusBtn.addEventListener('click',()=>{
  if(counts[currentQR]<targets[currentQR]){
    counts[currentQR]++;
    counter.textContent=`${counts[currentQR]} / ${targets[currentQR]}`;
    if(counts[currentQR]===targets[currentQR]){
      completeMsg.textContent="ðŸŽ¯ Target Complete!";
      if(!completed.includes(currentQR)){
        qrImages[currentQR].classList.add('slide-to-small');
        setTimeout(()=>{
          completed.push(currentQR);
          addToCompletedBox(qrImages[currentQR].src);
          qrImages[currentQR].classList.remove('slide-to-small','active');
          nextQR();
        },600);
      }
    }
  }
});

function addToCompletedBox(src){
  const img=document.createElement('img');
  img.src=src;
  if(completedBox.children.length===0) img.classList.add('active');
  completedBox.appendChild(img);
}

function nextQR(){
  currentQR=(currentQR+1)%qrImages.length;
  updateQR();
}

nextBtn.addEventListener('click',()=>{
  qrImages[currentQR].classList.add('slide-out-left');
  setTimeout(()=>{
    currentQR=(currentQR+1)%qrImages.length;
    updateQR();
  },400);
});

changeBtn.addEventListener('click',()=>{
  const imgs=completedBox.querySelectorAll('img');
  if(imgs.length===0)return;
  imgs.forEach(img=>img.classList.remove('active'));
  showCompletedIndex=(showCompletedIndex+1)%imgs.length;
  imgs[showCompletedIndex].classList.add('active');
});

completedBox.addEventListener('click',()=>{
  const now=Date.now();
  if(now-lastTap<300){
    const imgs=completedBox.querySelectorAll('img');
    if(imgs.length===0)return;
    const src=imgs[showCompletedIndex].src;
    const bigImg=Array.from(qrImages).find(i=>i.src===src);
    if(bigImg){
      bigImg.classList.add('scale-up','active');
      setTimeout(()=>{bigImg.classList.remove('scale-up');},600);
      currentQR=Array.from(qrImages).indexOf(bigImg);
      updateQR();
    }
  }
  lastTap=now;
});

updateQR();
</script>
</body>
</html>
